<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>æµªæ¼«è‡³æ­»ä¸æ¸</title>
    <style type="text/css">
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
        }

        canvas {
		    float:left;
            position: absolute;
            width: 100%;
            height: 100%;
        }

        #pinkboard {
            animation: anim 1.5s ease-in-out infinite;
            -webkit-animation: anim 1.5s ease-in-out infinite;
            -o-animation: anim 1.5s ease-in-out infinite;
            -moz-animation: anim 1.5s ease-in-out infinite;
        }

        @keyframes anim {
            0% {
                transform: scale(0.8);
            }

            25% {
                transform: scale(0.7);
            }

            50% {
                transform: scale(1);
            }

            75% {
                transform: scale(0.7);
            }

            100% {
                transform: scale(0.8);
            }
        }

        @-webkit-keyframes anim {
            0% {
                -webkit-transform: scale(0.8);
            }

            25% {
                -webkit-transform: scale(0.7);
            }

            50% {
                -webkit-transform: scale(1);
            }

            75% {
                -webkit-transform: scale(0.7);
            }

            100% {
                -webkit-transform: scale(0.8);
            }
        }

        @-o-keyframes anim {
            0% {
                -o-transform: scale(0.8);
            }

            25% {
                -o-transform: scale(0.7);
            }

            50% {
                -o-transform: scale(1);
            }

            75% {
                -o-transform: scale(0.7);
            }

            100% {
                -o-transform: scale(0.8);
            }
        }

        @-moz-keyframes anim {
            0% {
                -moz-transform: scale(0.8);
            }

            25% {
                -moz-transform: scale(0.7);
            }

            50% {
                -moz-transform: scale(1);
            }

            75% {
                -moz-transform: scale(0.7);
            }

            100% {
                -moz-transform: scale(0.8);
            }
        }

        #name {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            margin-top: -20px;
            font-size: 46px;
            color: #ea80b0;
        }
		 #frame{
            position: absolute;
            width: 400px;
            height: 300px;
            margin: 50% 30%;
            transform: translateY(-50%);
        }
		.child1{
            position: absolute;
			width: 100%;
            height: 200px;
			text-align: center;
line-height: 200px;
		}
		p{
			text-indent: 2em;
            letter-spacing: 2pt;
            font-family: å¾®è½¯é›…é»‘;
            font-size: 16px;
            text-align: justify;
            line-height: 27px;
            color: #ffe2e2;
			margin:0;
			padding:0;
			display: inline-block;
		}
        .left,.right {
            top: 0;
            width: 200px;
            height: 200px;
            border-radius: 50%;
        }
        .left {
            left: 35px;
        }
        .right {
            right: 35px;
            z-index: -1;
        }
        .bottom {
            bottom: 36px;
            left: 100px;
            width: 200px;
            height: 200px;
            transform: rotate(45deg);
            z-index: -1;
        }
        .heart {
            position: absolute;
            box-shadow: 0 0 40px #d5093c;
            animation: beat .8s ease infinite normal;
            background: linear-gradient(-90deg, #F50A45 0%, #d5093c 40%);
        }
        @keyframes beat {
            0% {
                transform: scale(1) rotate(225deg);
                box-shadow: 0 0 40px #d5093c;
            }
            50% {
                transform: scale(1.1) rotate(225deg);
                box-shadow: 0 0 70px #d5093c;
            }
            100% {
                transform: scale(1) rotate(225deg);
                box-shadow: 0 0 40px #d5093c;
            }
        }
    </style>
</head>

<body>

<audio id="bgMusic" preload="auto" src="https://1933823757.github.io/wyl.github.io/dy.mp3" loop="loop">
    <source src="https://1933823757.github.io/wyl.github.io/dy.mp3" type="audio/mpeg">
</audio>
<button onclick="toggleMusic()" style="position: fixed; bottom: 20px; right: 20px; z-index: 999; padding: 10px 20px; background: rgba(234, 128, 176, 0); color: white; border: 2px solid rgba(252, 250, 251, 0.679); border-radius: 5px; cursor: pointer;">
    â™« æ’­æ”¾/æš‚åœéŸ³ä¹
</button>

<button id="showTextBtn" style="position: fixed; top: 20px; left: 20px; z-index: 1001; padding: 10px 20px; background: rgba(234, 128, 176, 0); color: rgb(252, 250, 251); border: 2px solid rgba(252, 250, 251, 0.679); border-radius: 5px; cursor: pointer; font-family: 'å¾®è½¯é›…é»‘';">
    æ˜¾ç¤ºå‘Šç™½
</button>

<div id="typewriter" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.9); padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; z-index: 1001; color: #ffe2e2; font-size: 16px; line-height: 1.8; font-family: 'å¾®è½¯é›…é»‘'; box-shadow: 0 0 20px rgba(234, 128, 176, 0.3);">
</div>

<div id="lovetime" style="position: fixed; top: 20px; right: 120px; z-index: 1001; color: #ffe2e2; font-size: 16px; font-family: 'å¾®è½¯é›…é»‘'; text-align: right; padding: 10px;"></div>

<script>
function toggleMusic() {
    const audio = document.getElementById('bgMusic');
    if (audio.paused) {
        audio.muted = false;
        audio.currentTime = audio.currentTime || 0;
        audio.play();
    } else {
        audio.pause();
    }
}

// ä¿®æ”¹éŸ³é¢‘è‡ªåŠ¨æ’­æ”¾ç›¸å…³ä»£ç 
window.addEventListener('load', function() {
    const audio = document.getElementById('bgMusic');
    audio.loop = true;
    
    // æ–¹æ³•1: å°è¯•å¤šç§ç”¨æˆ·äº¤äº’äº‹ä»¶æ¥è§¦å‘æ’­æ”¾
    function tryToPlay() {
        audio.muted = false;
        audio.currentTime = 0;
        audio.play().catch(function(error) {
            console.log("æ’­æ”¾å¤±è´¥ï¼Œç­‰å¾…ç”¨æˆ·äº¤äº’");
        });
    }
    
    // ç›‘å¬å¤šä¸ªäº‹ä»¶æ¥å°è¯•æ’­æ”¾
    document.addEventListener('click', tryToPlay, { once: true });
    document.addEventListener('touchstart', tryToPlay, { once: true });
    document.addEventListener('mousemove', tryToPlay, { once: true });
    document.addEventListener('keydown', tryToPlay, { once: true });
    
    // æ–¹æ³•2: æ·»åŠ é™éŸ³è‡ªåŠ¨æ’­æ”¾ï¼Œç”¨æˆ·äº¤äº’åå–æ¶ˆé™éŸ³
    audio.muted = true;
    audio.play().then(function() {
        // ç­‰å¾…ç”¨æˆ·é¦–æ¬¡äº¤äº’æ—¶å–æ¶ˆé™éŸ³
        function unmute() {
            audio.muted = false;
            document.removeEventListener('click', unmute);
            document.removeEventListener('touchstart', unmute);
        }
        document.addEventListener('click', unmute);
        document.addEventListener('touchstart', unmute);
    });

    // æ·»åŠ éŸ³é¢‘ç»“æŸäº‹ä»¶ç›‘å¬
    audio.addEventListener('ended', function() {
        // éŸ³é¢‘æ’­æ”¾ç»“æŸæ—¶ï¼Œé‡æ–°å¼€å§‹æ’­æ”¾
        audio.currentTime = 0;
        audio.play().catch(function(error) {
            console.log("é‡æ–°æ’­æ”¾å¤±è´¥");
        });
    });
});

const text = `æœ‰äº›è¯æˆ‘çœŸçš„æ²¡å‹‡æ°”å’Œä½ è¯´ï¼Œæˆ‘åªèƒ½åœ¨è¿™å’Œä½ è¯´äº†ã€‚æˆ‘çœŸçš„å¥½åƒå’Œä½ åœ¨ä¸€èµ·ï¼Œæˆ‘ä¹Ÿå–œæ¬¢ä½ ï¼Œå–œæ¬¢å’Œä½ æ‰“æ¸¸æˆï¼Œå–œæ¬¢å’Œä½ èŠå¤©ï¼Œå–œæ¬¢å’Œä½ åˆ†äº«æ—¥å¸¸ã€‚ä½†æ˜¯æˆ‘çœŸçš„å¥½æ€•æˆ‘è€½æä½ ï¼Œæ¯•ç«Ÿæˆ‘æ¯”ä½ å¤§è¿™ä¹ˆå¤šï¼Œè€Œä¸”æˆ‘ä¹Ÿæ¯•ä¸šäº†ï¼Œè¦å·¥ä½œäº†ï¼Œé™ªä½ çš„æ—¶é—´ä¹ŸçœŸçš„å¥½å°‘ï¼Œæ€•æ²¡æœ‰åŠæ—¶å›ä½ æ¶ˆæ¯ä¼šè®©ä½ ä¹±æƒ³ã€‚è€Œä¸”æˆ‘é•¿å¾—ä¹Ÿä¸å¥½çœ‹ï¼Œå’Œä½ åœ¨ä¸€èµ·æˆ‘ä¼šå¥½è‡ªå‘çš„åº“ğŸ˜­ç„¶åé‚£å‡ å¤©ï¼Œæˆ‘ä¸æ˜¯æˆ‘ä¸æƒ³ç†ä½ ï¼Œé‚£ä¸€å‘¨æˆ‘çˆ·çˆ·ä½é™¢äº†ï¼Œç„¶åå¿ƒæƒ…çœŸçš„å¾ˆä¸å¥½ï¼Œç„¶ååˆçœ‹ä½ å‘æ¶ˆæ¯ï¼Œéƒ½æ²¡å’Œæˆ‘åˆ†äº«æ—¥å¸¸äº†ï¼Œå°±æ„Ÿè§‰ä½ ä¸æƒ³ç†æˆ‘äº†ï¼Œç„¶åæˆ‘å°±æ›´åŠ çš„ä¸å¼€å…´äº†ï¼Œä½†æ˜¯æˆ‘åˆä¸èƒ½å’Œä½ è¯´ã€‚
æˆ‘çœŸçš„å¥½æƒ³å¥½åƒç»™ä½ å‘æ¶ˆæ¯ï¼Œæˆ‘å¥½æƒ³å’Œä½ æ‰“æ¸¸æˆï¼Œæˆ‘å¥½æƒ³ç»™ä½ æ‰“ç”µè¯ï¼Œä½†æ˜¯æˆ‘çœ‹ä½ ç»™æˆ‘çš„å›æ¶ˆæ¯çš„æ€åº¦ï¼Œç„¶åæˆ‘å°±è§‰å¾—ä½ ä¸æƒ³ç†æˆ‘äº†ï¼Œä¸æƒ³å’Œæˆ‘æ‰“ç”µè¯ï¼Œä¸æƒ³å’Œæˆ‘æ‰“æ¸¸æˆï¼Œéƒ½æ˜¯æˆ‘å«ä½ æ‰“çš„ã€‚
ç„¶åæˆ‘å°±èƒ¡æ€ä¹±æƒ³ã€‚æˆ‘æƒ³ç€ä½ èƒ½ä¸»åŠ¨ç»™æˆ‘å‘æ¶ˆæ¯ï¼Œèƒ½å¤Ÿä¸»åŠ¨ç»™æˆ‘æ‰“ç”µè¯ï¼Œæˆ‘å¤ªè‡ªç§äº†ï¼Œå®Œå…¨è€ƒè™‘è‡ªå·±ï¼Œæ²¡æœ‰è€ƒè™‘ä½ çš„æ„Ÿå—ï¼Œè¦æ˜¯æˆ‘å½“æ—¶ä¸»åŠ¨ç‚¹ç»™ä½ æ‰“ç”µè¯å°±å¥½äº†ã€‚æˆ‘çœŸçš„å¥½å¤šæ¬¡åœ¨æ¢¦é‡Œæ¢¦è§ä½ ï¼Œ
æ¢¦è§ä½ æŠŠæˆ‘åˆ äº†ï¼Œå†·è½æˆ‘ï¼Œæˆ‘ç›´æ¥è¢«å“é†’äº†ï¼Œé†’æ¥åå‘ç°åªæ˜¯ä¸€åœºæ¢¦ï¼Œå®³ï¼Œæˆ‘çœŸçš„å¥½æƒ³å’Œä½ è¯´ï¼Œå•Šå•Šå•Šå•Šå•Šå•Šã€‚
ä¸ç®¡ç»“å±€æ€ä¹ˆæ ·ï¼Œæˆ‘æƒ³æŠŠæˆ‘å¿ƒé‡Œè¯è¯´å‡ºæ¥ï¼Œæˆ‘ä¸æƒ³åœ¨æ†‹äº†ã€‚ç‹ç‰ç³ï¼Œæˆ‘å–œæ¬¢ä½ â¤ï¼ï¼ï¼æˆ‘æƒ³å’Œä½ åœ¨ä¸€èµ·â¤ï¼ï¼ï¼è¯·åŸè°…æˆ‘çš„æ‡¦å¼±ï¼ŒåŸè°…æˆ‘ä¹‹å‰çš„è¡Œä¸ºã€‚

-2024.8.26-`;

let isTyping = false;
let textContainer = document.getElementById('typewriter');
let showTextBtn = document.getElementById('showTextBtn');

function typeWriter(text, speed = 100) {
    if (isTyping) {
        textContainer.style.display = 'none';
        textContainer.textContent = '';
        isTyping = false;
        showTextBtn.textContent = 'æ˜¾ç¤ºå‘Šç™½';
        return;
    }

    isTyping = true;
    showTextBtn.textContent = 'å…³é—­å‘Šç™½';
    textContainer.style.display = 'block';
    textContainer.innerHTML = '';
    let i = 0;
    
    function type() {
        if (i < text.length && isTyping) {
            if (text.charAt(i) === '\n') {
                textContainer.innerHTML += '<br><br>';
            } else {
                textContainer.innerHTML += text.charAt(i);
            }
            i++;
            textContainer.scrollTop = textContainer.scrollHeight;
            setTimeout(type, speed);
        }
    }
    
    type();
}

// æ·»åŠ ç‚¹å‡»äº‹ä»¶
showTextBtn.addEventListener('click', () => {
    typeWriter(text);
});

// ç‚¹å‡»æ–‡å­—åŒºåŸŸå¤–å…³é—­æ–‡å­—
document.addEventListener('click', (e) => {
    if (isTyping && !textContainer.contains(e.target) && e.target !== showTextBtn) {
        typeWriter(text); // ä¼šå…³é—­æ–‡å­—æ˜¾ç¤º
    }
});
</script>

    <canvas id="canvas" width="1920" height="947"></canvas>

    <script type="text/javascript">
    // æ·»åŠ å›é¢œè‰²æ•°ç»„å’Œå¿…è¦çš„å˜é‡
    const colors = [
        "#a1eafb", "#fdfdfd", "#ffcef3", "#cabbe9",
        "#bad7df", "#ffe2e2", "#99ddcc", "#08d9d6",
        "#252a34", "#ff2e63", "#defcf9", "#cadefc",
        "#c3bef0", "#cca8e9", "#cbd7ac", "#e8c6c0",
        "#dc9898", "#ecc8ba"
    ];
    
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    const hearts = [];

    // æ·»åŠ çª—å£å¤§å°ç›‘å¬
    window.addEventListener("resize", function() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

    // ä¼˜åŒ– Heart ç±»
    class Heart {
        constructor() {
            this.width = 473.8;
            this.height = 408.6;
            this.reset();
            this.opacity = Math.random() * 0.5 + 0.5;
            this.targetScale = Math.random() * 0.15 + 0.02;
            this.scale = this.targetScale * Math.random();
        }
        
        reset() {
            this.x = Math.random() * window.innerWidth;
            this.y = Math.random() * window.innerHeight;
            this.vel = {
                x: (Math.random() - 0.5) * 4,
                y: (Math.random() - 0.5) * 4
            };
        }
        
        update() {
            this.x += this.vel.x;
            this.y += this.vel.y;
            this.scale += (this.targetScale - this.scale) * 0.01;
            
            if (this.isOutOfBounds()) {
                this.scale = 0;
                this.reset();
            }
        }
        
        isOutOfBounds() {
            return (
                this.x - this.width > window.innerWidth ||
                this.x + this.width < 0 ||
                this.y - this.height > window.innerHeight ||
                this.y + this.height < 0
            );
        }
        
        draw(ctx, i, colors) {
            ctx.globalAlpha = this.opacity;
            ctx.font = `${180 * this.scale}px "å¾®è½¯é›…é»‘"`;
            ctx.fillStyle = colors[i % colors.length];
            ctx.fillText('ç‹ç‰ç³', this.x - this.width * 0.5, this.y - this.height * 0.5);
        }
    }

    // ä¿®æ”¹ lovetime å‡½æ•°çš„å®ç°
    function lovetime() {
        const second = 1000;
        const minute = second * 60;
        const hour = minute * 60;
        const day = hour * 24;
        const year = day * 365;
        
        const startDate = new Date(2024, 3, 16, 12, 30, 0);
        
        function updateTimer() {
            const now = new Date();
            const diff = now - startDate;
            
            const years = Math.floor(diff / year);
            const days = Math.floor((diff % year) / day);
            const hours = Math.floor((diff % day) / hour);
            const minutes = Math.floor((diff % hour) / minute);
            const seconds = Math.floor((diff % minute) / second);
            
            const timerElement = document.getElementById("lovetime");
            if (timerElement) {
                timerElement.innerHTML = `å·²ç»å’Œç‹ç‰ç³è®¤è¯† ${years}å¹´${days}å¤©${hours}å°æ—¶${minutes}åˆ†é’Ÿ${seconds}ç§’å•¦ğŸ‰`;
                // ç¡®ä¿æ–‡å­—å¯è§
                timerElement.style.display = 'block';
                timerElement.style.color = '#ffe2e2';
                timerElement.style.fontSize = '16px';
                timerElement.style.fontFamily = 'å¾®è½¯é›…é»‘';
                timerElement.style.textAlign = 'center';
                timerElement.style.padding = '20px';
                timerElement.style.position = 'relative';
                timerElement.style.zIndex = '1000';
            }
            
            requestAnimationFrame(updateTimer);
        }
        
        updateTimer();
    }

    // ç¡®ä¿åœ¨é¡µé¢åŠ è½½å®Œæˆåç«‹å³è°ƒç”¨
    document.addEventListener('DOMContentLoaded', function() {
        lovetime();  // å…ˆå¯åŠ¨è®¡æ—¶å™¨
    });

    // åœ¨åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šï¼Œåœ¨ render å‡½æ•°ä¹‹å‰æ·»åŠ çƒŸèŠ±ç›¸å…³çš„ç±»
    class Firework {
        constructor() {
            this.reset();
        }

        reset() {
            this.x = Math.random() * canvas.width;
            this.y = canvas.height;
            this.targetY = Math.random() * (canvas.height * 0.3);
            this.speed = 3 + Math.random() * 4;
            this.particles = [];
            this.exploded = false;
            this.colors = [
                `hsl(${Math.random() * 360}, 100%, 50%)`,
                `hsl(${Math.random() * 360}, 100%, 50%)`,
                `hsl(${Math.random() * 360}, 100%, 70%)`
            ];
        }

        update() {
            if (!this.exploded) {
                this.y -= this.speed;
                if (this.y <= this.targetY) {
                    this.explode();
                }
            } else {
                for (let i = this.particles.length - 1; i >= 0; i--) {
                    const p = this.particles[i];
                    p.update();
                    if (p.alpha <= 0) {
                        this.particles.splice(i, 1);
                    }
                }
                if (this.particles.length === 0) {
                    this.reset();
                }
            }
        }

        explode() {
            this.exploded = true;
            for (let i = 0; i < 120; i++) {
                this.particles.push(new Particle(
                    this.x, 
                    this.y, 
                    this.colors[Math.floor(Math.random() * this.colors.length)]
                ));
            }
        }

        draw(ctx) {
            if (!this.exploded) {
                ctx.beginPath();
                ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
                ctx.fillStyle = this.colors[0];
                ctx.fill();
            }
            for (const p of this.particles) {
                p.draw(ctx);
            }
        }
    }

    class Particle {
        constructor(x, y, color) {
            this.x = x;
            this.y = y;
            this.color = color;
            this.alpha = 1;
            const angle = Math.random() * Math.PI * 2;
            const speed = Math.random() * 8 + 3;
            this.vx = Math.cos(angle) * speed;
            this.vy = Math.sin(angle) * speed;
            this.gravity = 0.15;
            this.size = Math.random() * 3 + 1;
        }

        update() {
            this.x += this.vx;
            this.y += this.vy;
            this.vy += this.gravity;
            this.alpha -= 0.008;
        }

        draw(ctx) {
            ctx.save();
            ctx.globalAlpha = this.alpha;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.shadowBlur = 20;
            ctx.shadowColor = this.color;
            ctx.fill();
            ctx.restore();
        }
    }

    // åˆ›å»ºçƒŸèŠ±æ•°ç»„
    const fireworks = Array(8).fill().map(() => new Firework());

    function init() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // æ¸…ç©ºç°æœ‰çš„heartsæ•°ç»„
        hearts.length = 0;
        
        // é‡æ–°åˆå§‹åŒ–æ¼‚æµ®æ–‡å­—
        for (let i = 0; i < 100; i++) {
            hearts.push(new Heart());
        }
        
        // å¼€å§‹æ¸²æŸ“
        render();
    }

    function render() {
        // å®Œå…¨æ¸…é™¤ç”»å¸ƒï¼Œä½¿ç”¨ä¸é€æ˜çš„é»‘è‰²èƒŒæ™¯
        ctx.fillStyle = 'rgb(0, 0, 0)';  // ä½¿ç”¨å®Œå…¨ä¸é€æ˜çš„é»‘è‰²
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // æ¸²æŸ“æ¼‚æµ®æ–‡å­—
        for (var i = 0; i < hearts.length; i++) {
            hearts[i].update();
            hearts[i].draw(ctx, i, colors);
        }
        
        // ä¸ºçƒŸèŠ±å•ç‹¬æ·»åŠ åŠé€æ˜å±‚æ¥åˆ›å»ºæ‹–å°¾æ•ˆæœ
        ctx.save();
        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // æ¸²æŸ“çƒŸèŠ±
        fireworks.forEach(fw => {
            fw.update();
            fw.draw(ctx);
        });
        ctx.restore();
        
        requestAnimationFrame(render);
    }

    // æ·»åŠ çª—å£å¤§å°å˜åŒ–ç›‘å¬
    window.addEventListener("resize", function() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

    // ç¡®ä¿åœ¨é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    window.addEventListener('load', function() {
        init();
    });
    </script>

<div id="frame">
        <div class="heart left"></div>
        <div class="heart right"></div>
        <div class="heart bottom"></div>
    </div>
	

</body>

</html>
